<div id="image-upload-modal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title"><span class="fa fa-image fa-fw"></span> Image Upload</h4>
      </div>
      <div class="modal-body">
        <div class="pfda-toolbar">
          <form class="form form-upload-files">
            <div class="form-group text-centered">
              <div class="control-group">
                <span class="btn btn-primary btn-lg btn-browse-files" data-bind="visible: isBrowseVisible, disable: disableActions">
                  <span class="fa fa-file-image-o"></span> Browse image to upload... <input class="event-browse-files" type='file' accept="image/*" required />
                </span>

                <button class="btn btn-success btn-lg event-upload-image" style="display:none;" data-bind="visible: isUploadVisible, disable: disableActions">
                  <span class="fa fa-cloud-upload fa-fw"></span> Upload
                </button>
                <button class="btn btn-link btn-lg event-clear-files" style="display:none;" data-bind="visible: isClearVisible, disable: disableActions">
                  <span class="fa fa-rotate-left"></span> Restart
                </button>
              </div>
            </div>
          </form>
        </div>

        <div class="container-fluid">
          <div class="section-files panel panel-info">
            <div class="panel-heading">
              <span class="upload-state panel-title" data-bind="text: uploadStateDisplay"></span>
            </div>
            <ul class="list-group list-files" data-bind="foreach: files">
              <li class='list-group-item' data-bind="css: classes">
                <div class='list-group-item-text clearfix'>
                  <!-- ko if: !isDone() || !path() -->
                    <span class="file-name" data-bind="text: file.name.length > 50 ? file.name.substring(0,32) + '.....' + file.name.slice(-12) : file.name"></span>
                  <!-- /ko -->
                  <!-- ko if: isDone() && path() -->
                    <% if display_url %>
                      <a class="file-name" data-bind="text: file.name.length > 50 ? file.name.substring(0,32) + '.....' + file.name.slice(-12) : file.name, attr: {href: path}"></a>
                    <% else %>
                      <span class="file-name" data-bind="text: file.name.length > 50 ? file.name.substring(0,32) + '.....' + file.name.slice(-12) : file.name"></span>
                    <% end %>
                  <!-- /ko -->
                  <span class="file-metadata-glue">&middot;</span> <small class="file-type" data-bind="text: file.type || 'File'"></small> <span class="file-metadata-glue">&middot;</span>  <small class="file-size" data-bind="text: sizeFormatted"></small>
                  <span class="pull-right" data-bind="visible: isDone">
                    <span class="fa fa-check"></span>
                  </span>
                </div>
                <div class='progress' data-bind="visible: isProgressVisible">
                  <div class='progress-bar progress-bar-striped active' role='progressbar' aria-valuenow='100' aria-valuemin='0' aria-valuemax='100' style='min-width: 2%' data-bind="style: {width: progressPercentFormatted}">
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="modal-footer" data-bind="visible: !isBrowseVisible() && !isUploadVisible(), disable: disableActions">
        <button type="button" class="btn btn-default" data-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>
