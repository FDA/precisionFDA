/* eslint-disable import/no-extraneous-dependencies */
import { http, HttpResponse } from 'msw'
import { appsMocks } from '../features/apps/apps.mocks'
import { SiteSettingsResponse } from '../features/auth/useSiteSettingsQuery'
import { dataPortalsMocks } from '../features/data-portals/data-portal.mocks'
import { Resource } from '../features/data-portals/resources/resources.types'
import { dbclusterMocks } from '../features/databases/databases.mocks'
import { executionsMocks } from '../features/executions/executions.mock'
import { filesMocks } from '../features/files/files.mocks'
import { FetchProperties } from '../features/home/usePropertiesQuery'
import { newsMocks } from '../features/news/news.mocks'
import { resourcesMocks } from '../features/resources/resources.mocks'
import { spacesMocks } from '../features/spaces/spaces.mocks'
import { workflowMocks } from '../features/workflows/workflows.mocks'
import { CloudResourcesResponse } from '../hooks/useCloudResourcesCondition'

export const handlers = [
  http.get('https://localhost:3001/', () => HttpResponse.json({}, { status: 200 })),
  http.get('/assets/*', () =>
    HttpResponse.json(
      {
        user: {
          id: 5,
          dxuser: 'precisionfda.admin_dev',
          first_name: 'PrecisionFDA',
          last_name: 'Admin - Dev',
          full_name: 'PrecisionFDA Admin - Dev',
          email: 'pkryshenyk-cf+precisionfda.admin_dev@dnanexus.com',
          admin: true,
          counters: { files: 0, folders: 0, apps: 2, workflows: 2, jobs: 1, assets: 0, notes: 0 },
          links: {},
          is_guest: false,
          gravatar_url: 'https://secure.gravatar.com/avatar/4a93eb40a70557dec9c5b7582da070fb.png?d=retro\u0026r=PG',
          job_limit: 100,
          pricing_map: {
            'baseline-2': 0.286,
            'baseline-4': 0.572,
            'baseline-8': 1.144,
            'baseline-16': 2.288,
            'baseline-36': 5.148,
            'hidisk-2': 0.372,
            'hidisk-4': 0.744,
            'hidisk-8': 1.488,
            'hidisk-16': 2.976,
            'hidisk-36': 6.696,
            'himem-2': 0.474,
            'himem-4': 0.948,
            'himem-8': 1.896,
            'himem-16': 3.792,
            'himem-32': 7.584,
            'gpu-8': 10.787,
            db_std1_x2: 0.273,
            db_mem1_x2: 0.967,
            db_mem1_x4: 1.933,
            db_mem1_x8: 3.867,
            db_mem1_x16: 7.733,
            db_mem1_x32: 15.467,
            db_mem1_x48: 23.2,
            db_mem1_x64: 30.933,
          },
          resources: ['baseline-2', 'baseline-4', 'hidisk-2', 'hidisk-4', 'himem-2', 'himem-4'],
          total_limit: 200,
          can_administer_site: true,
          can_create_challenges: true,
          can_see_spaces: true,
          review_space_admin: false,
          can_access_notification_preference: false,
          org: { id: 4, name: "Admin - Dev's org", handle: 'pamellaaccounttwo' },
        },
        meta: {
          links: {
            space_create: '/api/spaces',
            space_info: '/api/spaces/info',
            accessible_spaces: '/api/spaces/editable_spaces',
            accessible_apps: '/api/list_apps',
            accessible_workflows: '/api/list_workflows',
            accessible_files: '/api/list_files',
            challenge_new: '/challenges/new',
          },
        },
      },
      { status: 200 },
    ),
  ),
  http.get('/api/user/cloud_resources', () =>
    HttpResponse.json<CloudResourcesResponse>(
      {
        computeCharges: 0.0,
        totalCharges: 213.63821532049522,
        storageCharges: 213.29572,
        dataEgressCharges: 0.342495320495218,
        usageLimit: 300,
        jobLimit: 100,
        usageAvailable: 86.36178467950478,
      },
      { status: 200 },
    ),
  ),
  http.get('/api/site_settings', () =>
    HttpResponse.json<SiteSettingsResponse>(
      {
        ssoButton: {
          isEnabled: false,
        },
        cdmh: {
          isEnabled: true,
          data: {},
        },
        alerts: [
          {
            id: 20,
            createdAt: '2024-02-01T16:38:56.451Z',
            updatedAt: '2024-02-02T10:15:45.687Z',
            title: 'Site Maintenance',
            content: 'Notice: This site will undergo some things you would rather not know about.',
            type: 'warning',
            startTime: '2024-01-31T11:15:00.000Z',
            endTime: '2024-02-24T11:15:00.000Z',
          },
        ],
        dataPortals: {
          isEnabled: true,
        },
      },
      { status: 200 },
    ),
  ),

  http.get('/api/data_portals/*/resources', () => HttpResponse.json<Resource[]>([], { status: 200 })),
  http.get('/api/list_licenses', () => HttpResponse.json({ licenses: [] }, { status: 200 })),
  http.post('/api/list_notes', () =>
    HttpResponse.json(
      [
        {
          id: 96,
          uid: 'discussion-96',
          className: 'discussion',
          fa_class: 'fa-comments-o',
          scope: 'private',
          path: '/discussions/96-randall-ebert-s-untitled-discussion',
          owned: true,
          editable: true,
          accessible: true,
          file_path: null,
          parent_folder_name: null,
          public: false,
          private: true,
          in_space: false,
          space_private: false,
          space_public: false,
          title: "Randall Ebert's untitled discussion",
          content: null,
        },
        {
          id: 95,
          uid: 'discussion-95',
          className: 'discussion',
          fa_class: 'fa-comments-o',
          scope: 'private',
          path: '/discussions/95-randall-ebert-s-untitled-discussion',
          owned: true,
          editable: true,
          accessible: true,
          file_path: null,
          parent_folder_name: null,
          public: false,
          private: true,
          in_space: false,
          space_private: false,
          space_public: false,
          title: "Randall Ebert's untitled discussion",
          content: null,
        },
        {
          id: 964,
          uid: 'note-964',
          className: 'note',
          fa_class: 'fa-sticky-note',
          scope: 'private',
          path: '/notes/964-randall-ebert-s-untitled-note',
          owned: true,
          editable: true,
          accessible: true,
          file_path: null,
          parent_folder_name: null,
          public: false,
          private: true,
          in_space: false,
          space_private: false,
          space_public: false,
          title: "Randall Ebert's untitled note",
          note_type: null,
          content:
            'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur scelerisque elementum ex vitae vulputate. Quisque non aliquet sapien. Etiam et mauris leo. Vestibulum iaculis neque nec vehicula aliquet. Nunc a ante eu mauris elementum eleifend in nec est. Praesent pellentesque diam a tellus posuere, sit amet suscipit lectus scelerisque. Morbi consequat erat sit amet urna blandit iaculis. Sed a metus mauris. In et lectus eget nibh rutrum imperdiet a non velit.\n\nDonec pharetra ornare diam. Donec pulvinar eros non arcu volutpat egestas. Quisque ut libero id nisl tincidunt tristique. Donec at ipsum interdum, volutpat magna ac, mattis nisi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam volutpat pulvinar ante. Suspendisse consectetur nisl nec sem pellentesque sollicitudin. Morbi diam nulla, suscipit porta vulputate non, ultricies sed arcu. Suspendisse feugiat, diam et ultrices auctor, justo ex tristique metus, nec convallis risus est ac orci. Phasellus varius, nisl vel dapibus pretium, purus sapien posuere massa, nec molestie orci elit non neque. Cras sollicitudin quam eget vulputate hendrerit. Aliquam rhoncus eros metus, id auctor quam fermentum et.\n\nSuspendisse sit amet felis sapien. Curabitur id nibh orci. Sed malesuada venenatis imperdiet. Mauris ornare sodales neque, id fringilla lorem sagittis sed. Nulla fermentum elit vitae purus pellentesque dapibus. In vel sapien non ipsum placerat gravida. Etiam efficitur enim in ipsum rutrum porttitor. Integer ultrices massa mi, ac mollis odio hendrerit sit amet.\n\nSed varius, ligula vitae faucibus feugiat, odio nibh scelerisque augue, non porta dui nisl non purus. Maecenas vehicula mauris in blandit hendrerit. Nullam facilisis, mi at auctor sagittis, tellus dui tempor nulla, ut gravida leo enim at felis. Nulla facilisi. Integer porttitor molestie erat. Curabitur finibus molestie fringilla. Nulla laoreet arcu mauris, eu ultricies risus maximus eget.\n\nSed et mi ante. Aenean venenatis efficitur lorem auctor convallis. Quisque quis leo id erat vulputate tempor. Donec pellentesque pharetra ipsum, at dignissim mi. Pellentesque cursus elit tellus, eu vulputate orci semper et. Fusce eget rhoncus magna, ac aliquet libero. Donec eget ligula nec odio maximus sagittis vel at odio. Nam a nulla mauris. In congue neque ac justo vulputate molestie in id augue. Pellentesque eget ante eget nibh fermentum posuere. Vivamus tristique mauris libero, eget malesuada lectus pulvinar et. Donec hendrerit nisi eu ipsum elementum dignissim. Suspendisse potenti',
        },
      ],
      { status: 200 },
    ),
  ),
  http.get('/api/properties/:type/scope/:scope/keys', () => HttpResponse.json<FetchProperties>({ keys: [] }, { status: 200 })),
  http.post('/api/files/download_list', () => HttpResponse.json([], { status: 200 })),
  http.get('/api/assets', () =>
    HttpResponse.json(
      {
        assets: [
          {
            id: 96541,
            name: 'shoudFail.tar.gz',
            type: 'Asset',
            state: 'closed',
            location: 'Private',
            added_by: 'Minch Yoda',
            created_at: '06/06/2022',
            featured: false,
            scope: 'private',
            space_id: null,
            locked: false,
            origin: { href: '/home/assets/file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1', fa: 'fa fa-file-zip-o fa-fw', text: '  shoudFail' },
            tags: ['tags', 'are', 'cool'],
            uid: 'file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1',
            file_size: '190 Bytes',
            created_at_date_time: '2022-06-06 12:05:27 CEST',
            description: 'you should have read me\n',
            links: {
              origin_object: { origin_type: 'Asset', origin_uid: 'file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1' },
              show: '/api/assets/file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1',
              user: '/users/minch.yoda',
              track: '/track?id=file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1',
              download_list: '/api/files/download_list',
              attach_to: '/api/attach_to_notes',
              add_file: '/api/create_file',
              add_folder: '/api/files/create_folder',
              update: '/api/assets/file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1',
              download: '/api/files/file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1/download',
              copy: '/api/files/copy',
              publish: '/publish?id=file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1',
              remove: '/api/assets/file-GBKx2kj0JqyZgZGbK9bVZ7jJ-1',
              license: '/api/licenses/:id/license_item/:item_uid',
              organize: '/api/files/move',
              feature: '/api/assets/feature',
              rename: '/api/assets/rename',
            },
            file_license: {},
            show_license_pending: false,
            archive_content: ['work/file.sh'],
          },
          {
            id: 96561,
            name: 'testing-asset.tar.gz',
            type: 'Asset',
            state: 'closed',
            location: 'Private',
            added_by: 'Minch Yoda',
            created_at: '06/07/2022',
            featured: false,
            scope: 'private',
            space_id: null,
            locked: false,
            origin: {
              href: '/home/assets/file-GBPj0980JqyVVyk9699jY41p-1',
              fa: 'fa fa-file-zip-o fa-fw',
              text: '  testing-asset',
            },
            tags: [],
            uid: 'file-GBPj0980JqyVVyk9699jY41p-1',
            file_size: '10 KB',
            created_at_date_time: '2022-06-07 18:43:17 CEST',
            description: '# Testing asset content\nThis content was created for testing purposes.\n\nThanks for reaching out!\n',
            links: {
              origin_object: { origin_type: 'Asset', origin_uid: 'file-GBPj0980JqyVVyk9699jY41p-1' },
              show: '/api/assets/file-GBPj0980JqyVVyk9699jY41p-1',
              user: '/users/minch.yoda',
              track: '/track?id=file-GBPj0980JqyVVyk9699jY41p-1',
              download_list: '/api/files/download_list',
              attach_to: '/api/attach_to_notes',
              add_file: '/api/create_file',
              add_folder: '/api/files/create_folder',
              update: '/api/assets/file-GBPj0980JqyVVyk9699jY41p-1',
              download: '/api/files/file-GBPj0980JqyVVyk9699jY41p-1/download',
              copy: '/api/files/copy',
              publish: '/publish?id=file-GBPj0980JqyVVyk9699jY41p-1',
              remove: '/api/assets/file-GBPj0980JqyVVyk9699jY41p-1',
              license: '/api/licenses/:id/license_item/:item_uid',
              organize: '/api/files/move',
              feature: '/api/assets/feature',
              rename: '/api/assets/rename',
            },
            file_license: {},
            show_license_pending: false,
            archive_content: ['asset-content-file.txt'],
          },
        ],
        meta: {
          links: { copy_private: '/api/files/copy' },
          count: 3,
          pagination: { current_page: 1, next_page: 2, prev_page: null, total_pages: 2, total_count: 21 },
        },
      },
      { status: 200 },
    ),
  ),
  http.get('/api/counters', () =>
    HttpResponse.json({ apps: '2', assets: '0', dbclusters: '0', jobs: 1, files: '0', workflows: '2' }, { status: 200 }),
  ),
  http.get('/api/auth_key', () =>
    HttpResponse.json(
      {
        Key: 'L0ZPKkhUeWxwT09rRlpoVitJMHJESW5Qa1hxLzR4NmUvUG1NSEw3Tkp2S2owT2paYzN4Szd5Q3hMeWdTTDhReUwxSGRHYjNqdWN6amNUalkwNE1XQi84SEVmdzE5MHRQcUdncTFsVkRQalk5b3BXM2poTUVTSVFrOEpEMXhmNk1sTFBCbXlpaUVRUWx1aGZ3Y1BPaUVxZ0REOTFqZEhMRFcyZ04zclM5NVduUzRqMTJaT2pVV1BrOG9BWENkbHpMLS10dWNPb1M0cAI2Vzg4ZDNSc3lrTlRRPT0=--369b49d04cb7322c879bda6fcbecdcf5546d3617',
      },
      { status: 200 },
    ),
  ),
  http.get('/api/user', () => {
    const isAuthenticated = true
    if (!isAuthenticated) {
      return HttpResponse.json(
        {
          errorMessage: 'Not authorized',
        },
        { status: 403 },
      )
    }
    return HttpResponse.json(
      {
        user: {
          id: 5,
          dxuser: 'lvoss',
          first_name: 'Leon',
          last_name: 'Voss',
          full_name: 'Dr. Leon Voss',
          email: 'lvoss@gmail.com',
          admin: true,
          counters: { files: 0, folders: 0, apps: 2, workflows: 2, jobs: 1, assets: 0, notes: 0 },
          links: {},
          is_guest: false,
          gravatar_url: 'https://secure.gravatar.com/avatar/4a93eb40a70557dec9c5b7582da070fb.png?d=retro\u0026r=PG',
          job_limit: 100,
          pricing_map: {
            'baseline-2': 0.286,
            'baseline-4': 0.572,
            'baseline-8': 1.144,
            'baseline-16': 2.288,
            'baseline-36': 5.148,
            'hidisk-2': 0.372,
            'hidisk-4': 0.744,
            'hidisk-8': 1.488,
            'hidisk-16': 2.976,
            'hidisk-36': 6.696,
            'himem-2': 0.474,
            'himem-4': 0.948,
            'himem-8': 1.896,
            'himem-16': 3.792,
            'himem-32': 7.584,
            'gpu-8': 10.787,
            db_std1_x2: 0.273,
            db_mem1_x2: 0.967,
            db_mem1_x4: 1.933,
            db_mem1_x8: 3.867,
            db_mem1_x16: 7.733,
            db_mem1_x32: 15.467,
            db_mem1_x48: 23.2,
            db_mem1_x64: 30.933,
          },
          resources: ['baseline-2', 'baseline-4', 'hidisk-2', 'hidisk-4', 'himem-2', 'himem-4'],
          total_limit: 200,
          can_administer_site: true,
          can_create_challenges: true,
          can_see_spaces: true,
          review_space_admin: false,
          can_access_notification_preference: false,
          org: { id: 4, name: "Admin - Dev's org", handle: 'pamellaaccounttwo' },
        },
        meta: {
          links: {
            space_create: '/api/spaces',
            space_info: '/api/spaces/info',
            accessible_spaces: '/api/spaces/editable_spaces',
            accessible_apps: '/api/list_apps',
            accessible_workflows: '/api/list_workflows',
            accessible_files: '/api/list_files',
            challenge_new: '/challenges/new',
          },
        },
      },
      { status: 200 },
    )
  }),
  ...filesMocks,
  ...newsMocks,
  ...dbclusterMocks,
  ...workflowMocks,
  ...spacesMocks,
  ...executionsMocks,
  ...dataPortalsMocks,
  ...appsMocks,
  ...resourcesMocks,
]
