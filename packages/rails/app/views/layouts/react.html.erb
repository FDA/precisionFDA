<!DOCTYPE html>
<html lang="en-US">
<head>
  <%= render "_partials/head_react" %>
</head>
  <!-- revision: <%= @context.token %> /-->
  <!-- revision: <%= git_revision %> /-->
  <body data-turbolinks="false">
    <noscript>This website requires JavaScript</noscript>
    <%# <style>
      .alert {
        padding-left: 32px;
        padding-right: 32px;
        padding-top: 16px;
        padding-bottom: 16px;
        font-size: 14px;
      }
      .close {
        float: right;
        font-size: 21px;
        font-weight: bold;
        line-height: 20px;
        color: #000;
        text-shadow: 0 1px 0 #fff;
        opacity: 0.2;
        filter: alpha(opacity = 20);
        display: flex;
        box-shadow: none;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0;
      }
      .close:hover {
        opacity: 0.5;
        filter: alpha(opacity = 50);
      }
      .alert-success {
        background-color: #dff0d8;
        border-color: #d6e9c6;
        color: #3c763d;
      }

      .alert-info {
        background-color: #d9edf7;
        border-color: #bce8f1;
        color: #31708f;
      }

      .alert-warning {
        background-color: #fcf8e3;
        border-color: #faebcc;
        color: #8a6d3b;
      }

      .alert-danger {
        background-color: #f2dede;
        border-color: #ebccd1;
        color: #a94442;
      }

    </style> %>
    <!-- TODO(samuel) temporary workaround for server-side errors, should be migrated to toastify -->
    <%= render partial: "_partials/messages", flash: flash %>
    <%# <script>
        // Code to close rails alert messages because we no longer have jquery and bootstrap loading
        document.addEventListener('DOMContentLoaded', function() {
            const closeButtons = document.querySelectorAll('[data-dismiss="alert"]');
            if(closeButtons) {
                closeButtons.forEach(function(button) {
                    button.addEventListener('click', function() {
                        const alertDiv = this.closest('.rails-alert');
                        if (alertDiv) {
                            alertDiv.remove();
                        }
                    });
                });
            }
        });
    </script> %>
    <div id="modal-root"></div>
    <%= content_for?(:content) ? yield(:content) : yield %>
  </body>
</html>
