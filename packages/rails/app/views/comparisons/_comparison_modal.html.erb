<div id="comparison-modal" class="modal fade modal-with-loader" data-bind="css: {loading: busy}">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Confirm Comparison</h4>
      </div>
      <div class="loader-container">
        <div class="loader">
          <i class="fa fa-spinner fa-spin"></i>
        </div>
      </div>
      <div class="modal-body">
        <form id="run_comparison_form">
          <input type="hidden" name="comparison[comparison_app]" data-bind="value: defaultComparator">
          <div class="form-group">
            <input data-bind="textInput: name"
                   type="text"
                   class="form-control required input-lg"
                   name="comparison[name]"
                   placeholder="Name this comparison..."
                   autofocus
            />
          </div>
          <div class="form-group">
            <textarea data-bind="textInput: description"
                      rows="3"
                      class="form-control input-lg"
                      name="comparison[description]"
                      placeholder="Describe this comparison (optional)..."
            ></textarea>
          </div>
          <!-- ko foreach: testVariant.inputs -->
            <!-- ko if: $data.value -->
              <input type="hidden" data-bind="attr: {name: 'comparison[inputs[' + $data.name + ']]'}, value: $data.value()"/>
            <!-- /ko -->
          <!-- /ko -->
          <!-- ko foreach: refVariant.inputs -->
            <!-- ko if: $data.value -->
              <input type="hidden" data-bind="attr: {name: 'comparison[inputs[' + $data.name + ']]'}, value: $data.value()"/>
            <!-- /ko -->
          <!-- /ko -->
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button
          type="button"
          name="submit"
          class="btn btn-primary disabled"
          data-bind="disabled: !isFormReady() || busy(),
                      css: { disabled: !isFormReady() || busy() },
                      click: submitForm">
          <i class="fa fa-area-chart"></i>&nbsp;Start Comparison
        </button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
